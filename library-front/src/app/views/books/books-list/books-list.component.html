<div class="mt-4">
  <ng-container *ngIf="books$ | async as books">
    <p-table [value]="books" [resizableColumns]="true" [autoLayout]="true">
      <ng-template pTemplate="header">
        <tr>
          <th>Identifiant</th>
          <th>Titre</th>
          <th>Description</th>
          <th style="width:1%"></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-book>
        <tr>
          <td>{{book.id}}</td>
          <td>{{book.title}}</td>
          <td>{{book.description}}</td>
          <td>
            <div class="flex">
              <button pButton (click)="edit(book)" class="p-button-sm p-button-secondary mr-2" type="button"
                icon="pi pi-pencil" iconPos="left"></button>
              <button pButton (click)="remove(book)" class="p-button-sm p-button-danger mr-2" type="button"
                icon="pi pi-trash" iconPos="left"></button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </ng-container>
</div>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>
<p-dialog header="Title" [(visible)]="formDisplay" [dismissableMask]="true" [style]="{width: '30vw'}" [modal]="true">
  <app-book-form [book]="editingBook" (onClose)="formDisplay=false" (onSave)="save($event)"></app-book-form>
</p-dialog>
